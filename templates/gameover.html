{% extends "_main.html" %}
{% block content %}
    <h1>Game Over</h1>
    <h2>Death</h2>
    <p>Something suddenly kills you. Restart?</p>
    <ul>
      <li><a href="index.html">Yes.</a></li>
      <li><a target="_blank" href="https://www.youtube.com/watch?v=FhZx0fJUcZE">No. Time to go do something more relaxing.</a></li>
      <li><a target="_blank" href="https://github.com/ahuanguchi/d-m-adventure">Show me how this stupid website was made.</a></li>
      <li><a href="javascript: window.history.back()">I'm gonna be a poor sport and go back a page.</a></li>
      <li><a href="javascript: void(0)" onclick="repeat()">This is ridiculous.</a></li>
    </ul>
    <p><small>VIWX MR TIEGI</small></p>
    <script>
      var extraContent;
      var repetitions = 0;
      var req = new XMLHttpRequest();
      req.onload = function () {
        extraContent = this.responseText;
        makeDiv();
      };
      function makeDiv() {
        repetitions += 1;
        var extraDiv = document.createElement("div");
        extraDiv.innerHTML = extraContent;
        if (repetitions % 2 === 1) {
          extraDiv.style.color = "#f00";
        }
        document.body.appendChild(extraDiv);
        if (repetitions % 3 !== 0) {
          window.scrollTo(0, document.body.scrollHeight);
        } else {
          window.scrollTo(0, 0);
        }
      }
      function repeat() {
        if (!extraContent) {
          req.open("GET", "gameover.html");
          req.send();
        } else {
          makeDiv();
        }
      }
    </script>
{% endblock %}
